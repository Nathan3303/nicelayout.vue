(function(e,g){typeof exports=="object"&&typeof module<"u"?module.exports=g(require("vue")):typeof define=="function"&&define.amd?define(["vue"],g):(e=typeof globalThis<"u"?globalThis:e||self,e["nice-layout"]=g(e.Vue))})(this,function(e){"use strict";function g(t){return(typeof t=="string"||t instanceof String)&&Object.prototype.toString.call(t)==="[object String]"}function B(t){return(typeof t=="number"||t instanceof Number)&&Number(t)!==NaN&&Object.prototype.toString.call(t)==="[object Number]"}function P(t){return t instanceof Array&&t.constructor===Array&&t.__proto__===Array.prototype&&Object.prototype.toString.call(t)==="[object Array]"}function $(t){return g(t)?t.includes("px"):!1}function V(t){return g(t)?t.includes("%"):!1}function y(t){return t.install=o=>o.component(t.name,t),t}function N(t){return B(t)||V(t)||$(t)?t:["auto","max-content","min-content"].includes(t)}function I(t){return B(t)||V(t)||$(t)?t:!1}function C(t){if(B(t))return!0;if(g(t))return["small","normal","medium","large"].includes(t)?!0:I(t)}function w(t){return["square","round","no-border","round-no-border","no-shape"].includes(t)}function j(t){return["fill","cover","contain","none","scale-down"].includes(t)}const A={src:String,icon:String,size:{type:[String,Number],default:"normal",validator:t=>C(t)},theme:[String,Array],shape:{type:String,default:"square",validator:t=>["square","round"].includes(t)},borderWidth:{type:Number,default:0},borderColor:{type:String,default:"white"},alt:String,title:{type:String,default:"nl-avatar"},fit:{type:String,default:"cover",validator:t=>j(t)}},D=["error"];function H(t){let o=null;return o=g(t)&&{small:24,normal:32,medium:40,large:48}[t],o&&(t=o),_(t)}function z(t,o=!1){return o?parseInt(t):B(t)?`${t}px`:t}function b(t,o=""){let l=[];return g(t)&&t!==""?l.push(o+"--"+t):P(t)&&t.forEach(n=>g(n)&&n!==""&&l.push(o+"--"+n)),l}function _(t){return B(t)?`${t}px`:t}const Me="",O=["src","alt"],x=Object.assign({name:"NlAvatar"},{__name:"avatar",props:A,emits:D,setup(t,{emit:o}){const l=t,n=e.ref(!1),r=e.computed(()=>H(l.size)),d=e.computed(()=>({"--size":r.value})),i=e.computed(()=>({objectFit:l.fit})),u=e.computed(()=>({fontSize:`calc(${r.value} / 2.5)`})),f=e.computed(()=>{const{theme:s,shape:p}=l;let h=[];return h=["nl-avatar",...b(s,"nl-avatar")],h.push("nl-avatar--"+p),h});function m(s){n.value=!0,o("error",s)}return(s,p)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(f.value),onClick:p[0]||(p[0]=(...h)=>s.clickHandler&&s.clickHandler(...h)),style:e.normalizeStyle(d.value)},[s.src&&!n.value?(e.openBlock(),e.createElementBlock("img",{key:0,src:s.src,alt:s.alt,onError:m,style:e.normalizeStyle(i.value)},null,44,O)):s.icon?(e.openBlock(),e.createElementBlock("i",{key:1,class:e.normalizeClass(["iconfont",s.icon]),style:e.normalizeStyle(u.value)},null,6)):e.renderSlot(s.$slots,"default",{key:2})],6))}}),F={avatars:Array,size:{type:[String,Number],default:"normal",validator:t=>C(t)},shape:{type:String,default:"round",validator:t=>w(t)},borderWidth:{type:Number,default:3},borderColor:{type:String,default:"white"},direction:{type:String,default:"horizontal",validator:t=>["horizontal","vertical"].includes(t)},addable:Boolean},W=["add"],qe="",M={class:"nl-avatar-group"},q=Object.assign({name:"NlAvatarGroup"},{__name:"avatar-group",props:F,emits:W,setup(t,{emit:o}){const l=e.ref(null);function n(r){l.value||(o("add",r),l.value=setTimeout(function(){l.value=null},1e3))}return(r,d)=>(e.openBlock(),e.createElementBlock("div",M,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.avatars,(i,u)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[i?(e.openBlock(),e.createBlock(i,{key:0,shape:"round",size:r.size,icon:i.icon,src:i.src,alt:i.alt,fit:i.fit,style:e.normalizeStyle({zIndex:r.avatars.length-u})},null,8,["size","icon","src","alt","fit","style"])):e.createCommentVNode("",!0)],64))),256)),e.createVNode(x,{theme:"add",size:r.size,icon:"icon-plus",shape:"round",style:{cursor:"pointer"},onClick:e.withModifiers(n,["stop"])},null,8,["size","onClick"])]))}}),G=y(x),R=y(q),U={vertical:Boolean,alignItems:String,justifyContent:String,flex:String,flexWrap:String,gap:Number,width:{type:[String,Number],validator:t=>N(t)},height:{type:[String,Number],validator:t=>N(t)}},Ge="",J=y(Object.assign({name:"NlDiv"},{__name:"div",props:U,setup(t){const o=t,l=e.computed(()=>({"--flex-direction":o.vertical?"column":void 0,"--align-items":o.alignItems,"--justify-content":o.justifyContent,"--flex-wrap":o.flexWrap,"--gap":_(o.gap),"--flex":o.flex,"--width":_(o.width),"--height":_(o.height)}));return(n,r)=>(e.openBlock(),e.createElementBlock("div",{class:"nl-div",style:e.normalizeStyle(l.value)},[e.renderSlot(n.$slots,"default")],4))}})),K={theme:{type:[Array,String],default:"default"},shape:{type:String,default:"square",validator:t=>w(t)},icon:String,disabled:Boolean,loading:Boolean,loadingIcon:{type:String,default:"icon-loading"}},Q=["disabled"],X={key:2,class:"nl-button__text"},Y=Object.assign({name:"NlButton"},{__name:"button",props:K,setup(t){const o=t,l=e.computed(()=>{let n=[];return n=["nl-button",...b(o.theme,"nl-button")],n.push(`nl-button--${o.shape}`),o.disabled&&n.push("nl-button--disabled"),n});return(n,r)=>(e.openBlock(),e.createElementBlock("button",{class:e.normalizeClass(l.value),disabled:n.disabled},[n.loading?(e.openBlock(),e.createElementBlock("i",{key:0,class:e.normalizeClass(["nl-button__loading-icon iconfont",n.loadingIcon])},null,2)):n.icon?(e.openBlock(),e.createElementBlock("i",{key:1,class:e.normalizeClass(["iconfont",n.icon])},null,2)):e.createCommentVNode("",!0),n.$slots.default?(e.openBlock(),e.createElementBlock("span",X,[e.renderSlot(n.$slots,"default")])):e.createCommentVNode("",!0)],10,Q))}}),Z={theme:{type:[String,Array],default:"default"},value:{type:[String,Number],default:""},max:{type:Number,default:99},hidden:Boolean,dot:Boolean},Ue="",v=["textContent"],ee=Object.assign({name:"NlBadge"},{__name:"badge",props:Z,setup(t){const o=t,l=e.computed(()=>{let r=[];return r=["nl-badge",...b(o.theme)],o.dot&&r.push("nl-badge--dot"),r}),n=e.computed(()=>o.dot?"":g(o.value)?o.value:o.value>o.max?`${o.max}+`:o.value);return(r,d)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(l.value)},[e.renderSlot(r.$slots,"default"),!r.hidden&&(n.value||r.dot)?(e.openBlock(),e.createElementBlock("sup",{key:0,textContent:e.toDisplayString(n.value)},null,8,v)):e.createCommentVNode("",!0)],2))}}),te=y(Y),ne=y(ee),oe={type:{type:String,default:"text",validator:t=>["text","password","number"].includes(t)},modelValue:[String,Number],formatter:{type:Function,default:t=>t},parser:{type:Function,default:t=>t},theme:{type:[Array,String],default:"default"},shape:{type:String,default:"square",validator:t=>w(t)},icon:String,prefix:String,suffix:String,placeholder:String,maxlength:{type:[String,Number],default:-1},autocomplete:{type:String,default:"off"},disabled:Boolean,readonly:Boolean,clearable:Boolean,allowShowPassword:Boolean,counter:{type:String,default:"off",validator:t=>["off","word-limit","word-left","both"].includes(t)},width:{type:String,default:"auto",validator:t=>N(t)},height:{type:String,default:"36px",validator:t=>N(t)}},le=["update:modelValue","focused","blured","inputted","changed","cleared"],re={class:"word-counter"},T=Object.assign({name:"WordCounter"},{__name:"word-counter",props:{mode:{type:String,default:"word-limit",validator:t=>["word-limit","word-left","both"].includes(t)},length:Number,maxlength:[String,Number]},setup(t){const o=t,l=e.computed(()=>{const{mode:n,maxlength:r,length:d}=o;if(n==="off")return!1;let i="";const u=r!==-1&&parseInt(r);return n!=="word-left"&&(i+=`${d} / ${u||"-"}`),n==="both"&&(i+=" , "),n!=="word-limit"&&(i+=u?u-d:"-"),i});return(n,r)=>(e.openBlock(),e.createElementBlock("div",re,e.toDisplayString(l.value),1))}}),Je="",ae=["type","value","placeholder","maxlength","autocomplete","disabled","readonly"],se={class:"button-group"},ie=["onClick"],ce=["onClick"],de=Object.assign({name:"NlInput"},{__name:"input",props:oe,emits:le,setup(t,{emit:o}){var k;const l=t,n=e.ref(),r=e.ref(!1),d=e.ref(!1),i=e.ref(((k=l.modelValue)==null?void 0:k.length)||0),u=e.computed(()=>{let a=["nl-input"];return a=[...a,...b(l.theme,"nl-input")],a.push("nl-input--"+l.shape),l.disabled&&a.push("nl-input--disabled"),r.value&&a.push("nl-input--focused"),a}),f=e.computed(()=>({"--input-width":z(l.width),"--input-height":z(l.height)}));function m(a){r.value=!l.disabled&&!l.readonly,o("focused",a)}function s(a){r.value=!1,o("blured",a)}function p(a){const E=l.parser(a.target.value);o("update:modelValue",E),i.value=E.length,o("inputted",a)}function h(a){o("changed",a)}function S(){const a=n.value.value;o("update:modelValue",""),i.value=0,e.nextTick(()=>n.value.focus()),o("cleared",a)}function c(){d.value=!d.value}return e.watch(()=>l.modelValue,()=>i.value=l.modelValue.length),(a,E)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(u.value),style:e.normalizeStyle(f.value)},[a.icon?(e.openBlock(),e.createElementBlock("i",{key:0,class:e.normalizeClass(["iconfont",a.icon])},null,2)):e.createCommentVNode("",!0),e.renderSlot(a.$slots,"prefix",{},()=>[e.createTextVNode(e.toDisplayString(a.prefix),1)]),e.createElementVNode("input",{ref_key:"input",ref:n,type:d.value?"text":a.type,value:a.formatter(a.modelValue),placeholder:a.placeholder,maxlength:a.maxlength,autocomplete:a.autocomplete,disabled:a.disabled,readonly:!a.disabled&&a.readonly,onFocus:m,onBlur:s,onInput:p,onChange:h},null,40,ae),e.renderSlot(a.$slots,"suffix",{},()=>[e.createTextVNode(e.toDisplayString(a.suffix),1)]),e.createElementVNode("div",se,[a.type==="password"&&a.allowShowPassword?e.withDirectives((e.openBlock(),e.createElementBlock("i",{key:0,class:e.normalizeClass(["iconfont",d.value?"icon-eye":"icon-eye-off"]),onClick:e.withModifiers(c,["stop"])},null,10,ie)),[[e.vShow,a.modelValue]]):e.createCommentVNode("",!0),a.type!=="file"&&a.clearable?e.withDirectives((e.openBlock(),e.createElementBlock("i",{key:1,class:"iconfont icon-clear",onClick:e.withModifiers(S,["stop"])},null,8,ce)),[[e.vShow,a.modelValue]]):e.createCommentVNode("",!0)]),a.counter!=="off"?(e.openBlock(),e.createBlock(T,{key:1,mode:a.counter,length:i.value,maxlength:a.maxlength},null,8,["mode","length","maxlength"])):e.createCommentVNode("",!0)],6))}}),pe={modelValue:[String,Number],placeholder:String,rows:{type:[String,Number],default:1},theme:{type:[Array,String],default:"default"},shape:{type:String,default:"square",validator:t=>["square","no-border"].includes(t)},disabled:Boolean,readonly:Boolean,resize:Boolean,autosize:{type:[Boolean,Object],default:!1},maxlength:[String,Number],counter:{type:String,default:"off",validator:t=>["off","word-limit","word-left","both"].includes(t)}},ue=["update:modelValue","focused","blured","inputted","changed"],Ke="",me=["rows","value","placeholder","readonly","disabled","maxlength"],fe=["value"],he=Object.assign({name:"NlTextarea"},{__name:"textarea",props:pe,emits:ue,setup(t,{emit:o}){var S;const l=t,n=e.ref(),r=e.ref(),d=e.ref(!1),i=e.ref(((S=l.modelValue)==null?void 0:S.length)||0),u=e.computed(()=>{let c=[];return c=["nl-textarea",...b(l.theme,"nl-textarea")],c.push("nl-textarea--"+l.shape),l.disabled&&c.push("nl-textarea--disabled"),d.value&&c.push("nl-textarea--focused"),c}),f=e.computed(()=>{const{autosize:c,resize:k,rows:a}=l;return{"--rows":a,"--overflow":c?"hidden":"auto","--resize":k?"vertical":"none"}});function m(c){d.value=!l.disabled&&!l.readonly,o("focused",c)}function s(c){d.value=!1,o("blured",c)}function p(c){o("update:modelValue",c.target.value),i.value=c.target.textLength,l.autosize&&e.nextTick(()=>{n.value.style.height=r.value.scrollHeight+"px"}),o("inputted",c)}function h(c){o("changed",c)}return(c,k)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(u.value),style:e.normalizeStyle(f.value)},[e.createElementVNode("textarea",{ref_key:"textarea",ref:n,rows:c.rows,value:c.modelValue,placeholder:c.placeholder,readonly:c.readonly,disabled:c.disabled,maxlength:c.maxlength,onFocus:m,onBlur:s,onInput:p,onChange:h},null,40,me),c.autosize&&!l.disabled&&!l.readonly?(e.openBlock(),e.createElementBlock("textarea",{key:0,class:"backend-textarea",ref_key:"backendTextarea",ref:r,value:c.modelValue},null,8,fe)):e.createCommentVNode("",!0),c.counter!=="off"?(e.openBlock(),e.createBlock(T,{key:1,mode:c.counter,maxlength:c.maxlength,length:i.value},null,8,["mode","maxlength","length"])):e.createCommentVNode("",!0)],6))}}),ge=y(de),ye=y(he),ke={tag:{type:String,default:"a",validator:t=>["a","router-link"].includes(t)},theme:{type:[String,Array],default:"default"},href:String,actived:Boolean,disabled:Boolean,icon:String,to:[String,Object]},Qe="",be=y(Object.assign({name:"NlLink"},{__name:"link",props:ke,setup(t){const o=t,l=e.computed(()=>{let n=[];return n=["nl-link",...b(o.theme,"nl-link")],o.actived&&n.push("nl-link--actived"),o.disabled&&n.push("nl-link--disabled"),n});return(n,r)=>(e.openBlock(),e.createBlock(e.resolveDynamicComponent(n.disabled?"a":n.tag),{class:e.normalizeClass(l.value),href:n.disabled||!n.href?void 0:n.href,to:n.to||n.href||void 0,"active-class":"nl-link--actived"},{default:e.withCtx(()=>[n.icon?(e.openBlock(),e.createElementBlock("i",{key:0,class:e.normalizeClass(["nl-link__icon",n.icon&&`iconfont ${n.icon}`])},null,2)):e.renderSlot(n.$slots,"icon",{key:1}),e.renderSlot(n.$slots,"default")]),_:3},8,["class","href","to"]))}})),Se={type:{type:String,default:"line",validator:t=>["line","circle","dashboard"].includes(t)},percentage:{type:Number,default:0,validator:t=>t>=0&&t<=100},color:{type:[Array,String]},strokeWidth:{type:Number,default:6},formatter:{type:Function,default:t=>t},showInnerText:Boolean,scale:{type:Number,default:1,validator:t=>t>=.6&&t<=2}},Be=["full"],Ye="",_e={key:0,class:"nl-progress--line"},Ne={class:"nl-progress__outer-bar"},we={key:0},Ee=[e.createElementVNode("circle",{class:"nl-progress__outer-path",r:"50",cx:"50",cy:"50"},null,-1),e.createElementVNode("circle",{class:"nl-progress__inner-path",r:"50",cx:"50",cy:"50"},null,-1)],$e={class:"nl-progress__text"},Ve=y(Object.assign({name:"NlProgress"},{__name:"progress",props:Se,emits:Be,setup(t,{emit:o}){const l=t,n=e.computed(()=>l.percentage<0?"0%":(l.percentage===100&&o("full"),l.percentage>100?"100%":l.percentage+"%")),r=e.computed(()=>_(l.strokeWidth/l.scale)),d=e.computed(()=>({"--stroke-width":r.value,"--flex":l.type==="line"?"auto":"none"})),i=e.computed(()=>Math.ceil(2*Math.PI*50)),u=e.computed(()=>({"--circle-size":`${l.scale*100}px`,"--stroke-dash-array":i.value,"--stroke-dash-offset":Math.ceil((1-parseInt(n.value)/100)*i.value)}));return(f,m)=>(e.openBlock(),e.createElementBlock("div",{class:"nl-progress",style:e.normalizeStyle(d.value)},[f.type==="line"?(e.openBlock(),e.createElementBlock("div",_e,[e.createElementVNode("div",Ne,[e.createElementVNode("div",{class:"nl-progress__inner-bar",style:e.normalizeStyle({width:n.value})},[f.showInnerText?(e.openBlock(),e.createElementBlock("span",we,e.toDisplayString(n.value),1)):e.createCommentVNode("",!0)],4)])])):f.type==="circle"?(e.openBlock(),e.createElementBlock("svg",{key:1,class:"nl-progress--circle",viewBox:"0 0 100 100",style:e.normalizeStyle(u.value)},Ee,4)):e.createCommentVNode("",!0),f.showInnerText?e.createCommentVNode("",!0):e.renderSlot(f.$slots,"default",{key:2},()=>[e.createElementVNode("span",$e,e.toDisplayString(f.formatter(n.value)),1)])],4))}})),Ce={lines:Array,scale:{type:Number,default:2,validator:t=>t>=1&&t<=6},updateTime:{type:Number,default:0,validator:t=>t>=0&&t<=60},showPointerText:Boolean},ze=(t=1)=>{const o=e.ref(t*60),l=e.ref(o.value*24),n=e.ref(parseInt(t/3)+1),r=e.ref(o.value/n.value),d=e.ref(parseInt(60/t)),i=e.ref(1e3*d.value),u=e.reactive({left:0,text:"0:00"});function f(p){if(typeof p!="string")return;const h=p.split(":"),S=h[0]*o.value,c=h[1]*(o.value/60),k=(h[2]||0)/d.value;return parseInt(S+c+k+24)}function m(p){u.left=f(p)-2}function s(p){u.text=p}return{width:l,scaleLevel:n,timeScaleGap:r,updateTime:i,pointer:u,calcLeftValueByTimeString:f,updatePointerLeft:m,updatePointerText:s}},xe=()=>{const t=e.ref(null),o=e.ref(!1),l=e.ref(!1),n=e.ref(!1),r=m=>t.value=m;function d(m,s=-.3,p=!1){if(!t.value)return;const{clientWidth:h}=t.value;s=Math.floor(s*h),t.value.scrollLeft=m+s,f(m),o.value=p}function i(m=.5){if(!t.value||l.value)return;const{scrollLeft:s,clientWidth:p}=t.value,h=s-parseInt(p*m);d(h,0,!0)}function u(m=.5){if(!t.value||n.value)return;const{scrollLeft:s,clientWidth:p}=t.value,h=s+parseInt(p*m);d(h,0,!0)}function f(m){const{clientWidth:s,scrollWidth:p}=t.value;n.value=s+m>=p,l.value=m<=0}return{freeMode:o,onStart:l,onEnd:n,setTarget:r,moveTo:d,moveLeft:i,moveRight:u}},tt="",nt="",Te={class:"line"},Le={class:"line__title"},Pe={class:"line__cards"},Ie={__name:"line",props:{lines:Object},setup(t){return(o,l)=>(e.openBlock(),e.createElementBlock("div",Te,[e.createElementVNode("div",Le,[e.createElementVNode("p",null,e.toDisplayString(t.lines.title),1)]),e.createElementVNode("div",Pe,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.lines.cards,n=>(e.openBlock(),e.createBlock(n,{card:n},null,8,["card"]))),256))])]))}},ot="",je={class:"timeline__scale-bar"},Ae={key:0},De={key:1},He={class:"pointer"},Oe={key:0},Fe={class:"timeline__lines-container"},We=y(Object.assign({name:"NlTimeline"},{__name:"timeline",props:Ce,setup(t,{expose:o}){const l=t,n=ze(l.scale),r=xe(),d=e.ref(),i=e.ref(new Date().toLocaleTimeString());e.provide("timeline",n),o({findPointer:()=>r.moveTo(n.pointer.left),moveRight:r.moveRight,moveLeft:r.moveLeft});const u=e.computed(()=>({"--width":n.width.value+"px","--scale-bar-gap":n.timeScaleGap.value+"px","--scale-bar-pointer-left":n.pointer.left+"px","--scale-bar-pointer-height":l.lines.length*71+"px"}));return e.onMounted(()=>{r.setTarget(d.value),n.updatePointerLeft(i.value),r.moveTo(n.pointer.left),setInterval(()=>{n.updatePointerLeft(i.value),r.moveTo(n.pointer.left)},n.updateTime.value),setInterval(()=>{i.value=new Date().toLocaleTimeString(),n.pointer.text=i.value},1e3)}),(f,m)=>(e.openBlock(),e.createElementBlock("div",{class:"timeline",ref_key:"timelineElement",ref:d,style:e.normalizeStyle(u.value)},[e.createElementVNode("div",je,[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(25,s=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[s===1||s===25?(e.openBlock(),e.createElementBlock("span",Ae,"|")):(e.openBlock(),e.createElementBlock("span",De,e.toDisplayString(s-1)+":00",1)),s!==25?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:2},e.renderList(e.unref(n).scaleLevel.value-1,p=>(e.openBlock(),e.createElementBlock("span",null,e.toDisplayString(s-1)+":"+e.toDisplayString(60/e.unref(n).scaleLevel.value*p),1))),256)):e.createCommentVNode("",!0)],64))),64)),e.createElementVNode("div",He,[f.showPointerText?(e.openBlock(),e.createElementBlock("span",Oe," < "+e.toDisplayString(e.unref(n).pointer.text),1)):e.createCommentVNode("",!0)])]),e.createElementVNode("div",Fe,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(f.lines,(s,p)=>(e.openBlock(),e.createBlock(Ie,{key:p,lines:s},null,8,["lines"]))),128))])],4))}})),L=[G,R,J,te,ne,ge,ye,be,Ve,We],rt="";return{install(t){console.log("Install global components",L),L.forEach(o=>{t.component(o.name,o)})}}});
